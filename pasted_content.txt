### Chamadas à API do Perplexity (Pesquisa Externa)
**Objetivo**: Utilizar a Perplexity para **enriquecer as notas com conhecimento externo**. 
**Implementação**: O backend fará requisições HTTP para a API do Perplexity com a consulta apropriada. A resposta normalmente inclui texto resumido e possivelmente URLs de fonte. Essa resposta poderá então ser armazenada junto à nota (por exemplo, como uma _nota-resposta_ vinculada) ou incorporada como conteúdo adicional (ex: anexo "resumo de pesquisa").

### Uso da API do ChatGPT (Organização e IA Local)
**Classificação de notas por tema**: Ao receber/criar uma nota, o backend enviará seu conteúdo para o modelo do ChatGPT com um prompt para identificar a **categoria temática** apropriada (ex: Trabalho, Saúde, Pessoal, Estudos, etc.). Com base no texto, o modelo retornará uma classificação ou até múltiplas tags. O sistema então atribui essa categoria à nota (criando _pastas virtuais_ ou etiquetas correspondentes na interface). Por exemplo, se a nota diz "Marcar consulta médica semana que vem", a IA poderá categorizá-la em "Saúde".
**Sugestão de agendas e prazos**: A IA analisará notas que contenham tarefas, compromissos ou objetivos e poderá sugerir **deadlines ou agendamentos**. Ex: Nota "Terminar relatório do projeto X" poderia gerar sugestão "Você poderia definir o prazo para sexta-feira desta semana para concluir o relatório". Essas sugestões de prazo podem ser retornadas ao usuário (via mensagem ou destaque na interface, talvez adicionando um campo "prazo sugerido" à nota).
    
- **Geração de insights e conexões**: Com o acúmulo de várias notas, o ChatGPT pode encontrar **padrões ou conexões contextuais** entre elas. Por exemplo, se em múltiplas notas o usuário menciona "melhorar condicionamento físico" e também "falta de tempo devido ao trabalho", a IA pode inferir um insight do tipo: "Notei que você quer melhorar a saúde mas está sem tempo pelo trabalho; talvez planejar pequenos exercícios durante o expediente ajudaria". Esses insights seriam apresentados ao usuário como dicas ou reflexões personalizadas.
    
- **Conselhos personalizados**: Semelhante aos insights, o sistema pode atuar como um assistente pessoal. Se o usuário faz anotações sobre dilemas ou planos (p.ex. "Estou gastando muito com alimentação fora"), a IA pode oferecer **conselhos** ("Você poderia cozinhar em casa 3 vezes na semana para economizar e melhorar sua saúde"). Esses conselhos serão entregues com cautela (lembrando que a IA não substitui orientação profissional, apenas dá sugestões baseadas nos dados fornecidos).
    
- **Elaboração de planos de ação**: A partir de um conjunto de notas relacionadas, a IA pode **gerar um plano estruturado**. Suponha que o usuário insira uma série de ideias soltas para um projeto; o ChatGPT poderá consolidar e retornar um plano de ação passo-a-passo. Isso é inspirado em práticas onde a IA organiza um "brain dump" em tarefas ordenadas. Por exemplo, a IA consegue pegar uma lista caótica de afazeres e segmentá-los em categorias como “Tarefas Urgentes, Projetos Criativos, Responsabilidades Recorrentes”, dando ao usuário uma visão mais clara e acionável das anotações.
    
- **Organização por áreas temáticas**: Conjuntamente com a classificação individual de notas, a IA pode também sugerir **agrupamentos de notas**. Se detectar muitas notas relacionadas a "Trabalho" e subdivisões (projetos específicos), pode recomendar criação de sub-pastas ou coleções. Por exemplo: dentro de "Trabalho", agrupar notas do projeto Alpha separadas das do projeto Beta. A organização final exibida ao usuário refletirá essas áreas temáticas, semelhante a pastas de um vault no Obsidian (ver seção de Design).
- **Custos e otimização**: O ChatGPT API tem custo por token usado. Para minimizar gastos e latência, implementaremos estratégias:
    
    - Consolidar múltiplas notas em uma única chamada se for pertinente (em vez de várias chamadas separadas).
    - Usar modelos apropriados (talvez GPT-3.5 para tarefas simples, GPT-4 para tarefas complexas que exigem melhor qualidade).
    - Cachear resultados para notas que não mudam (evitar recalcular categorização toda hora para a mesma nota, por exemplo).
    - Limitar o comprimento de prompts, resumindo o contexto quando há muitas notas.
- **Privacidade**: Ressaltar ao usuário que, ao usar IA, parte de seus dados (o conteúdo da nota) é enviado aos servidores da OpenAI. Instruiremos a IA a ignorar ou mascarar informações sensíveis e recomendaremos que o usuário não insira dados muito privados (como senhas) nas notas, conforme boas práticas (por exemplo, podemos incorporar filtros para remover dados pessoais antes de enviar à IA).